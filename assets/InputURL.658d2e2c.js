import{h as T,k as we,aw as Ye,ax as Je,c as R,l as G,g as X,i as xe,a as se,r as q,ay as de,az as Ce,w as N,f as Xe,aA as et,o as ke,s as ce,aB as tt,x as Ne,aC as nt,I as rt,n as Z,ad as ot,an as at,P as lt,p as ee,aj as Se,ag as ut,G as it,al as st,D as ct,aD as Ee,aE as dt,U as ft,ap as vt,aq as mt,W as gt,a2 as ht,j as J,Y as ne,a0 as z,$ as Ae,a1 as Me,a5 as Te,aF as pt}from"./index.361cb0a2.js";import{a as De,c as je,I as fe}from"./iconify.9502b386.js";import{u as bt,a as yt,f as Fe}from"./IndexPage.570ea775.js";import{b as Ue,c as wt}from"./focus-manager.58612f5a.js";import{u as xt}from"./vue-i18n.runtime.esm-bundler.8ed106f6.js";const Ct=[T("path",{d:"M0 50A50 50 0 0 1 50 0L50 50L0 50",fill:"currentColor",opacity:"0.5"},[T("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"0.8s",repeatCount:"indefinite"})]),T("path",{d:"M50 0A50 50 0 0 1 100 50L50 50L50 0",fill:"currentColor",opacity:"0.5"},[T("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"1.6s",repeatCount:"indefinite"})]),T("path",{d:"M100 50A50 50 0 0 1 50 100L50 50L100 50",fill:"currentColor",opacity:"0.5"},[T("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"2.4s",repeatCount:"indefinite"})]),T("path",{d:"M50 100A50 50 0 0 1 0 50L50 50L50 100",fill:"currentColor",opacity:"0.5"},[T("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"360 50 50",dur:"3.2s",repeatCount:"indefinite"})])];var Sn=we({name:"QSpinnerPie",props:Ye,setup(e){const{cSize:t,classes:n}=Je(e);return()=>T("svg",{class:n.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},Ct)}}),En=we({name:"QBanner",props:{...De,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=X(),r=je(e,n),a=R(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(r.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),u=R(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const s=[T("div",{class:"q-banner__avatar col-auto row items-center self-start"},G(t.avatar)),T("div",{class:"q-banner__content col text-body2"},G(t.default))],l=G(t.action);return l!==void 0&&s.push(T("div",{class:u.value},l)),T("div",{class:a.value+(e.inlineActions===!1&&l!==void 0?" q-banner--top-padding":""),role:"alert"},s)}}});class qe{static get(t){return fetch("https://thingproxy.freeboard.io/fetch/"+t.url,{headers:t.headers}).then(async n=>({data:t.responseType==="json"?await n.json():await n.text(),url:n.url,status:n.status}))}static post(t){const n=new FormData;return Object.entries(t.data||{}).forEach(([r,a])=>n.append(r,a)),fetch("https://thingproxy.freeboard.io/fetch/"+t.url,{method:"post",headers:t.headers,body:n}).then(async r=>({data:t.responseType==="json"?await r.json():await r.text(),url:r.url,status:r.status}))}}const An={get(e){return window.Http?window.Http.get(e):qe.get(e)},post(e){return window.Http?window.Http.post(e):qe.post(e)}},kt={},Rt=Symbol("GLOBAL_OPTIONS_PROVIDE_KEY"),_t=()=>kt,St=e=>Array.isArray(e),Re=e=>e!==null&&typeof e=="object",Qe=e=>e instanceof Function,te=e=>e==null,_e=typeof window=="undefined",ze=()=>{var e;return _e||te((e=window.document)===null||e===void 0?void 0:e.visibilityState)?!0:window.document.visibilityState==="visible"},Et=()=>{var e,t;return(e=!_e&&((t=window.navigator)===null||t===void 0?void 0:t.onLine))!==null&&e!==void 0?e:!0},ve=()=>new Promise(()=>{}),H=e=>Xe(e)?e.value:e,At=e=>Re(e)?Object.assign(St(e)?[]:{},e):e,ae=new Map,Mt=e=>te(e)?void 0:ae.get(e),Tt=(e,t,n)=>{const r=ae.get(e);r!=null&&r.timer&&clearTimeout(r.timer);const a=setTimeout(()=>ae.delete(e),t);ae.set(e,{...n,timer:a})},K=e=>e;function He(e,t,n){let r,a,u,s,l,f,y=0,x=!1,h=!1,k=!0;const b=!t&&t!==0&&typeof window.requestAnimationFrame=="function";if(typeof e!="function")throw new TypeError("Expected a function");t=+t||0,Re(n)&&(x=!!n.leading,h="maxWait"in n,u=h?Math.max(+n.maxWait||0,t):u,k="trailing"in n?!!n.trailing:k);function C(i){const m=r,F=a;return r=a=void 0,y=i,s=e.apply(F,m),s}function V(i,m){return b?(window.cancelAnimationFrame(l),window.requestAnimationFrame(i)):setTimeout(i,m)}function w(i){if(b)return window.cancelAnimationFrame(i);clearTimeout(i)}function A(i){return y=i,l=V(S,t),x?C(i):s}function _(i){const m=i-f,F=i-y,M=t-m;return h?Math.min(M,u-F):M}function P(i){const m=i-f,F=i-y;return f===void 0||m>=t||m<0||h&&F>=u}function S(){const i=Date.now();if(P(i))return B(i);l=V(S,_(i))}function B(i){return l=void 0,k&&r?C(i):(r=a=void 0,s)}function o(){l!==void 0&&w(l),y=0,r=f=a=l=void 0}function v(){return l===void 0?s:B(Date.now())}function d(){return l!==void 0}function p(...i){const m=Date.now(),F=P(m);if(r=i,a=this,f=m,F){if(l===void 0)return A(f);if(h)return l=V(S,t),C(f)}return l===void 0&&(l=V(S,t)),s}return p.cancel=o,p.flush=v,p.pending=d,p}function Ft(e,t,n){let r=!0,a=!0;if(typeof e!="function")throw new TypeError("Expected a function");return Re(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),He(e,t,{leading:r,trailing:a,maxWait:t})}var qt=K((e,{debounceInterval:t,debounceOptions:n,manual:r})=>{const a=q(!1),u=q(),s=R(()=>n),l=R(()=>H(t)),f=q(e.context.runAsync);return r||(a.value=!0),Ce(y=>{te(l.value)||(u.value=He(x=>x(),l.value,s.value),e.context.runAsync=(...x)=>new Promise((h,k)=>{a.value?(a.value=!1,f.value(...x).then(h).catch(k)):u.value(()=>{f.value(...x).then(h).catch(k)})}),y(()=>{var x;(x=u.value)===null||x===void 0||x.cancel(),e.context.runAsync=f.value}))}),{onCancel(){var y;(y=u.value)===null||y===void 0||y.cancel()}}}),Bt=K((e,{errorRetryCount:t=0,errorRetryInterval:n=0})=>{const r=q(),a=q(0),u=R(()=>H(t)),s=R(()=>H(n));let l=!1;const f=()=>{a.value=0},y=R(()=>{if(s.value)return s.value;const k=1e3,b=1,C=9,V=Math.floor(Math.random()*2**Math.min(a.value,C)+b);return k*V}),x=()=>{let k;const b=u.value===-1,C=a.value<u.value;return(b||C)&&(b||(a.value+=1),k=setTimeout(()=>{l=!0,e.context.refresh()},y.value)),()=>k&&clearTimeout(k)},h=()=>{r.value&&r.value()};return{onBefore(){l||f(),l=!1,h()},onSuccess(){f()},onError(){r.value=x()},onCancel(){f(),h()}}}),Vt=K((e,{ready:t=q(!0),manual:n,defaultParams:r=[]})=>(N(t,a=>{!n&&a&&e.context.run(...r)},{flush:"sync"}),{onBefore(){if(!t.value)return e.loading.value=!1,{isBreak:!0}}})),Pt=K((e,{refreshDeps:t=[],refreshDepsAction:n,manual:r})=>(t!=null&&t.length&&N(t,()=>{n?n():!r&&e.context.refresh()}),{})),Ot=K((e,{throttleInterval:t,throttleOptions:n})=>{const r=q(),a=R(()=>H(t)),u=R(()=>n),s=q(e.context.runAsync);return Ce(l=>{if(te(t))return{};r.value=Ft(f=>f(),a.value,u.value),e.context.runAsync=(...f)=>new Promise((y,x)=>{r.value(()=>{s.value(...f).then(y).catch(x)})}),l(()=>{var f;(f=r.value)===null||f===void 0||f.cancel(),e.context.runAsync=s.value})}),{onCancel(){var l;(l=r.value)===null||l===void 0||l.cancel()}}});const Lt=(e,t)=>n=>{Object.keys(n).forEach(r=>{e[r].value=n[r]}),t.forEach(r=>r(e))},It=(e,t)=>()=>{let n=t;for(let r=e.length;r-- >0;)n=e[r](n);return n()},$t=(e,t,n)=>{var r,a;const{initialData:u,onSuccess:s,onError:l,onBefore:f,onAfter:y}=t,x=q((r=n==null?void 0:n.loading)!==null&&r!==void 0?r:!1),h=de((a=n==null?void 0:n.data)!==null&&a!==void 0?a:u),k=de(n==null?void 0:n.error),b=q(n==null?void 0:n.params),C=q([]),V=de("pending"),w={},A=Lt({status:V,loading:x,data:h,error:k,params:b},[]),_=(S,...B)=>{if(S==="onQuery"){const o=C.value.map(v=>v.onQuery).filter(Boolean);return{servicePromise:It(o,B[0])()}}else{const o=C.value.map(v=>{var d;return(d=v[S])===null||d===void 0?void 0:d.call(v,...B)});return Object.assign({},...o)}},P=q(0);return w.runAsync=async(...S)=>{A({loading:!0,params:S,status:"pending"}),P.value+=1;const B=P.value,{isBreak:o,breakResult:v=ve()}=_("onBefore",S);if(o)return A({status:"settled"}),v;f==null||f(S);try{const d=()=>new Promise(m=>m(e(...b.value)));let{servicePromise:p}=_("onQuery",d);p||(p=d());const i=await p;return B!==P.value?ve():(A({data:i,loading:!1,error:void 0,status:"settled"}),_("onSuccess",i,S),s==null||s(i,S),_("onAfter",S,i,void 0),y==null||y(S),i)}catch(d){if(B!==P.value)return ve();throw A({loading:!1,error:d,status:"settled"}),_("onError",d,S),l==null||l(d,S),_("onAfter",S,void 0,d),y==null||y(S),d}},w.run=(...S)=>{w.runAsync(...S).catch(B=>{l||console.error(B)})},w.cancel=()=>{P.value+=1,A({loading:!1}),_("onCancel")},w.refresh=()=>{w.run(...b.value||[])},w.refreshAsync=()=>w.runAsync(...b.value||[]),w.mutate=S=>{const B=Qe(S)?S(h.value):S,o=At(B);A({data:o}),_("onMutate",o)},{status:V,loading:x,data:h,error:k,params:b,plugins:C,context:w}};function Nt(e,t={},n){const r=xe(Rt,{}),a={..._t(),...r,...t},{manual:u=!1,defaultParams:s=[]}=a,l=$t(e,a);if(l.plugins.value=n.map(f=>f(l,a)),!u){const f=l.params.value||s;l.context.run(...f)}return se(()=>{l.context.cancel()}),{loading:l.loading,data:l.data,error:l.error,params:l.params,cancel:l.context.cancel,refresh:l.context.refresh,refreshAsync:l.context.refreshAsync,mutate:l.context.mutate,run:l.context.run,runAsync:l.context.runAsync}}const le=new Map,Dt=(e,t)=>{le.set(e,t),t.then(n=>(le.delete(e),n)).catch(()=>{le.delete(e)})},jt=e=>le.get(e),W=new Map,Ut=(e,t)=>{W.has(e)&&W.get(e).forEach(n=>n(t))},Qt=(e,t)=>(W.has(e)?W.get(e).push(t):W.set(e,[t]),()=>{const n=W.get(e).indexOf(t);W.get(e).splice(n,1)});var zt=K((e,{cacheKey:t,cacheTime:n=6e5,staleTime:r=0,getCache:a,setCache:u})=>{if(!t)return{};const s=Qe(t)?t:()=>t,l=q(()=>{});let f;const y=w=>a?a(w):Mt(w),x=(w,A,_)=>{u?u(w,_):Tt(w,A,_),Ut(w,_.data)},h=w=>r===-1||w+r>new Date().getTime(),k=(w,A)=>Object.prototype.hasOwnProperty.call(w,A),b=w=>{const A=s(w);return Qt(A,_=>{e.data.value=_})},C=s(),V=y(C);return V&&k(V,"data")&&(e.data.value=V.data,e.params.value=V.params),C&&(l.value=b()),se(()=>{l.value()}),{onBefore(w){const A=s(w),_=y(A);if(!_||!k(_,"data"))return{};if(h(_.time))return e.data.value=_.data,e.loading.value=!1,{isBreak:!0,breakResult:_.data};e.data.value=_.data},onQuery(w){const A=e.params.value,_=s(A);let P=jt(_);return P&&P!==f?()=>P:(P=w(),f=P,Dt(_,P),()=>P)},onSuccess(w,A){const _=s(A);_&&(l.value(),x(_,n,{data:w,params:A,time:new Date().getTime()}),l.value=b(A))},onMutate(w){const A=s(e.params.value);A&&(l.value(),x(A,n,{data:w,params:e.params.value,time:new Date().getTime()}),l.value=b(e.params.value))}}});function Ht(e){let t,n;class r extends Promise{constructor(u){super(u),this.cancel=()=>{n(),clearTimeout(t)}}}return new r(a=>{n=a,t=setTimeout(n,e)})}function me(){return new Date().getTime()}var Kt=K((e,{loadingDelay:t=0,loadingKeep:n=0})=>{const r=q(()=>{}),a=R(()=>H(t)),u=R(()=>H(n));let s=0,l={};const f=()=>{let y;return a.value&&(y=setTimeout(()=>{e.status.value==="pending"&&(e.loading.value=!0)},a.value)),()=>y&&clearTimeout(y)};return{onBefore(){e.loading.value=!a.value,r.value(),r.value=f(),s=me()},onQuery(y){if(!u.value)return()=>y();l=Ht(u.value+a.value);const x=async()=>{try{const k=await y();return me()-s<=a.value&&l.cancel(),Promise.resolve(k)}catch(k){return me()-s<=a.value&&l.cancel(),Promise.reject(k)}},h=Promise.allSettled([x(),l]).then(k=>{const b=k[0];return b.status==="fulfilled"?b.value:Promise.reject(b.reason)});return()=>h},onCancel(){r.value()},onAfter(){r.value()}}}),ge;const Ke=new Set,Ze=new Set,We=new Set,ue=(e,t)=>{let n;switch(e){case"FOCUS_LISTENER":n=Ke;break;case"RECONNECT_LISTENER":n=We;break;case"VISIBLE_LISTENER":n=Ze;break}if(!n.has(t))return n.add(t),()=>{n.delete(t)}},he=e=>{e.forEach(t=>{t()})};!_e&&(ge=window)!==null&&ge!==void 0&&ge.addEventListener&&(window.addEventListener("visibilitychange",()=>{ze()&&he(Ze)},!1),window.addEventListener("focus",()=>he(Ke),!1),window.addEventListener("online",()=>he(We),!1));var Zt=K((e,{pollingInterval:t,pollingWhenHidden:n=!1,pollingWhenOffline:r=!1,errorRetryCount:a=0})=>{const u=q(),s=q(!1),l=R(()=>H(t)),f=R(()=>H(a)),y=[],x=C=>{C&&y.push(C)},h=()=>(n||ze())&&(r||Et()),k=C=>{if(e.error.value&&f.value!==0)return;let V;if(!te(l.value)&&l.value>=0)if(h())V=setTimeout(C,l.value);else{s.value=!0;return}return()=>V&&clearTimeout(V)},b=()=>{s.value&&h()&&(e.context.refresh(),s.value=!1)};return N(l,()=>{u.value&&(u.value(),u.value=k(()=>e.context.refresh()))}),n||x(ue("VISIBLE_LISTENER",b)),r||x(ue("RECONNECT_LISTENER",b)),se(()=>{y.forEach(C=>C())}),{onBefore(){var C;(C=u.value)===null||C===void 0||C.call(u)},onCancel(){var C;(C=u.value)===null||C===void 0||C.call(u)},onAfter(){u.value=k(()=>e.context.refresh())}}});const Wt=(e,t)=>{let n=!1;return(...r)=>{n||(n=!0,e(...r),setTimeout(()=>{n=!1},t))}};var Gt=K((e,{refreshOnWindowFocus:t=!1,refocusTimespan:n=5e3})=>{const r=R(()=>H(t)),a=R(()=>H(n)),u=[],s=f=>{f&&u.push(f)},l=()=>{u.forEach(f=>f())};return Ce(()=>{if(l(),r.value){const f=Wt(e.context.refresh,a.value);s(ue("VISIBLE_LISTENER",f)),s(ue("FOCUS_LISTENER",f))}}),se(()=>{l()}),{}});function Mn(e,t){return Nt(e,t,[Kt,Bt,qt,Zt,Ot,Gt,Pt,Vt,zt])}function Yt({validate:e,resetValidation:t,requiresQForm:n}){const r=xe(et,!1);if(r!==!1){const{props:a,proxy:u}=X();Object.assign(u,{validate:e,resetValidation:t}),N(()=>a.disable,s=>{s===!0?(typeof t=="function"&&t(),r.unbindComponent(u)):r.bindComponent(u)}),ke(()=>{a.disable!==!0&&r.bindComponent(u)}),ce(()=>{a.disable!==!0&&r.unbindComponent(u)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const Be=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Ve=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Pe=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,re=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,oe=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,pe={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Be.test(e),hexaColor:e=>Ve.test(e),hexOrHexaColor:e=>Pe.test(e),rgbColor:e=>re.test(e),rgbaColor:e=>oe.test(e),rgbOrRgbaColor:e=>re.test(e)||oe.test(e),hexOrRgbColor:e=>Be.test(e)||re.test(e),hexaOrRgbaColor:e=>Ve.test(e)||oe.test(e),anyColor:e=>Pe.test(e)||re.test(e)||oe.test(e)},Jt=[!0,!1,"ondemand"],Xt={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>Jt.includes(e)}};function en(e,t){const{props:n,proxy:r}=X(),a=q(!1),u=q(null),s=q(null);Yt({validate:C,resetValidation:b});let l=0,f;const y=R(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length>0),x=R(()=>n.disable!==!0&&y.value===!0),h=R(()=>n.error===!0||a.value===!0),k=R(()=>typeof n.errorMessage=="string"&&n.errorMessage.length>0?n.errorMessage:u.value);N(()=>n.modelValue,()=>{V()}),N(()=>n.reactiveRules,A=>{A===!0?f===void 0&&(f=N(()=>n.rules,()=>{V(!0)})):f!==void 0&&(f(),f=void 0)},{immediate:!0}),N(e,A=>{A===!0?s.value===null&&(s.value=!1):s.value===!1&&(s.value=!0,x.value===!0&&n.lazyRules!=="ondemand"&&t.value===!1&&w())});function b(){l++,t.value=!1,s.value=null,a.value=!1,u.value=null,w.cancel()}function C(A=n.modelValue){if(x.value!==!0)return!0;const _=++l,P=t.value!==!0?()=>{s.value=!0}:()=>{},S=(o,v)=>{o===!0&&P(),a.value=o,u.value=v||null,t.value=!1},B=[];for(let o=0;o<n.rules.length;o++){const v=n.rules[o];let d;if(typeof v=="function"?d=v(A,pe):typeof v=="string"&&pe[v]!==void 0&&(d=pe[v](A)),d===!1||typeof d=="string")return S(!0,d),!1;d!==!0&&d!==void 0&&B.push(d)}return B.length===0?(S(!1),!0):(t.value=!0,Promise.all(B).then(o=>{if(o===void 0||Array.isArray(o)===!1||o.length===0)return _===l&&S(!1),!0;const v=o.find(d=>d===!1||typeof d=="string");return _===l&&S(v!==void 0,v),v===void 0},o=>(_===l&&(console.error(o),S(!0)),!1)))}function V(A){x.value===!0&&n.lazyRules!=="ondemand"&&(s.value===!0||n.lazyRules!==!0&&A!==!0)&&w()}const w=tt(C,0);return ce(()=>{f!==void 0&&f(),w.cancel()}),Object.assign(r,{resetValidation:b,validate:C}),Ne(r,"hasError",()=>h.value),{isDirtyModel:s,hasRules:y,hasError:h,errorMessage:k,validate:C,resetValidation:b}}const Oe=/^on[A-Z]/;function tn(e,t){const n={listeners:q({}),attributes:q({})};function r(){const a={},u={};for(const s in e)s!=="class"&&s!=="style"&&Oe.test(s)===!1&&(a[s]=e[s]);for(const s in t.props)Oe.test(s)===!0&&(u[s]=t.props[s]);n.attributes.value=a,n.listeners.value=u}return nt(r),r(),n}function be(e){return e===void 0?`f_${bt()}`:e}function ye(e){return e!=null&&(""+e).length>0}const nn={...De,...Xt,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},rn=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function on(){const{props:e,attrs:t,proxy:n,vnode:r}=X();return{isDark:je(e,n.$q),editable:R(()=>e.disable!==!0&&e.readonly!==!0),innerLoading:q(!1),focused:q(!1),hasPopupOpen:!1,splitAttrs:tn(t,r),targetUid:q(be(e.for)),rootRef:q(null),targetRef:q(null),controlRef:q(null)}}function an(e){const{props:t,emit:n,slots:r,attrs:a,proxy:u}=X(),{$q:s}=u;let l;e.hasValue===void 0&&(e.hasValue=R(()=>ye(t.modelValue))),e.emitValue===void 0&&(e.emitValue=c=>{n("update:modelValue",c)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:p,onFocusout:i}),Object.assign(e,{clearValue:m,onControlFocusin:p,onControlFocusout:i,focus:v}),e.computedCounter===void 0&&(e.computedCounter=R(()=>{if(t.counter!==!1){const c=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,E=t.maxlength!==void 0?t.maxlength:t.maxValues;return c+(E!==void 0?" / "+E:"")}}));const{isDirtyModel:f,hasRules:y,hasError:x,errorMessage:h,resetValidation:k}=en(e.focused,e.innerLoading),b=e.floatingLabel!==void 0?R(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):R(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),C=R(()=>t.bottomSlots===!0||t.hint!==void 0||y.value===!0||t.counter===!0||t.error!==null),V=R(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),w=R(()=>`q-field row no-wrap items-start q-field--${V.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(b.value===!0?" q-field--float":"")+(_.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(x.value===!0?" q-field--error":"")+(x.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&C.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),A=R(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(x.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length>0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),_=R(()=>t.labelSlot===!0||t.label!==void 0),P=R(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&x.value!==!0?` text-${t.labelColor}`:"")),S=R(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:b.value,modelValue:t.modelValue,emitValue:e.emitValue})),B=R(()=>{const c={for:e.targetUid.value};return t.disable===!0?c["aria-disabled"]="true":t.readonly===!0&&(c["aria-readonly"]="true"),c});N(()=>t.for,c=>{e.targetUid.value=be(c)});function o(){const c=document.activeElement;let E=e.targetRef!==void 0&&e.targetRef.value;E&&(c===null||c.id!==e.targetUid.value)&&(E.hasAttribute("tabindex")===!0||(E=E.querySelector("[tabindex]")),E&&E!==c&&E.focus({preventScroll:!0}))}function v(){Ue(o)}function d(){wt(o);const c=document.activeElement;c!==null&&e.rootRef.value.contains(c)&&c.blur()}function p(c){clearTimeout(l),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",c))}function i(c,E){clearTimeout(l),l=setTimeout(()=>{document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1)||(e.focused.value===!0&&(e.focused.value=!1,n("blur",c)),E!==void 0&&E())})}function m(c){rt(c),s.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),Z(()=>{k(),s.platform.is.mobile!==!0&&(f.value=!1)})}function F(){const c=[];return r.prepend!==void 0&&c.push(T("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:ee},r.prepend())),c.push(T("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},M())),x.value===!0&&t.noErrorIcon===!1&&c.push(D("error",[T(Se,{name:s.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?c.push(D("inner-loading-append",r.loading!==void 0?r.loading():[T(ut,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&c.push(D("inner-clearable-append",[T(Se,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||s.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:m})])),r.append!==void 0&&c.push(T("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:ee},r.append())),e.getInnerAppend!==void 0&&c.push(D("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&c.push(e.getControlChild()),c}function M(){const c=[];return t.prefix!==void 0&&t.prefix!==null&&c.push(T("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&c.push(e.getShadowControl()),e.getControl!==void 0?c.push(e.getControl()):r.rawControl!==void 0?c.push(r.rawControl()):r.control!==void 0&&c.push(T("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},r.control(S.value))),_.value===!0&&c.push(T("div",{class:P.value},G(r.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&c.push(T("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),c.concat(G(r.default))}function O(){let c,E;x.value===!0?h.value!==null?(c=[T("div",{role:"alert"},h.value)],E=`q--slot-error-${h.value}`):(c=G(r.error),E="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(c=[T("div",t.hint)],E=`q--slot-hint-${t.hint}`):(c=G(r.hint),E="q--slot-hint"));const U=t.counter===!0||r.counter!==void 0;if(t.hideBottomSpace===!0&&U===!1&&c===void 0)return;const Q=T("div",{key:E,class:"q-field__messages col"},c);return T("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:ee},[t.hideBottomSpace===!0?Q:T(it,{name:"q-transition--field-message"},()=>Q),U===!0?T("div",{class:"q-field__counter"},r.counter!==void 0?r.counter():e.computedCounter.value):null])}function D(c,E){return E===null?null:T("div",{key:c,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},E)}let j=!1;return ot(()=>{j=!0}),at(()=>{j===!0&&t.autofocus===!0&&u.focus()}),ke(()=>{lt.value===!0&&t.for===void 0&&(e.targetUid.value=be()),t.autofocus===!0&&u.focus()}),ce(()=>{clearTimeout(l)}),Object.assign(u,{focus:v,blur:d}),function(){const E=e.getControl===void 0&&r.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...B.value}:B.value;return T("label",{ref:e.rootRef,class:[w.value,a.class],style:a.style,...E},[r.before!==void 0?T("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:ee},r.before()):null,T("div",{class:"q-field__inner relative-position col self-stretch"},[T("div",{ref:e.controlRef,class:A.value,tabindex:-1,...e.controlEvents},F()),C.value===!0?O():null]),r.after!==void 0?T("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:ee},r.after()):null])}}const Le={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},ie={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Ge=Object.keys(ie);Ge.forEach(e=>{ie[e].regex=new RegExp(ie[e].pattern)});const ln=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Ge.join("")+"])|(.)","g"),Ie=/[.*+?^${}()|[\]\\]/g,I=String.fromCharCode(1),un={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function sn(e,t,n,r){let a,u,s,l;const f=q(null),y=q(h());function x(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}N(()=>e.type+e.autogrow,b),N(()=>e.mask,o=>{if(o!==void 0)C(y.value,!0);else{const v=S(y.value);b(),e.modelValue!==v&&t("update:modelValue",v)}}),N(()=>e.fillMask+e.reverseFillMask,()=>{f.value===!0&&C(y.value,!0)}),N(()=>e.unmaskedValue,()=>{f.value===!0&&C(y.value)});function h(){if(b(),f.value===!0){const o=_(S(e.modelValue));return e.fillMask!==!1?B(o):o}return e.modelValue}function k(o){if(o<a.length)return a.slice(-o);let v="",d=a;const p=d.indexOf(I);if(p>-1){for(let i=o-d.length;i>0;i--)v+=I;d=d.slice(0,p)+v+d.slice(p)}return d}function b(){if(f.value=e.mask!==void 0&&e.mask.length>0&&x(),f.value===!1){l=void 0,a="",u="";return}const o=Le[e.mask]===void 0?e.mask:Le[e.mask],v=typeof e.fillMask=="string"&&e.fillMask.length>0?e.fillMask.slice(0,1):"_",d=v.replace(Ie,"\\$&"),p=[],i=[],m=[];let F=e.reverseFillMask===!0,M="",O="";o.replace(ln,(E,U,Q,g,L)=>{if(g!==void 0){const $=ie[g];m.push($),O=$.negate,F===!0&&(i.push("(?:"+O+"+)?("+$.pattern+"+)?(?:"+O+"+)?("+$.pattern+"+)?"),F=!1),i.push("(?:"+O+"+)?("+$.pattern+")?")}else if(Q!==void 0)M="\\"+(Q==="\\"?"":Q),m.push(Q),p.push("([^"+M+"]+)?"+M+"?");else{const $=U!==void 0?U:L;M=$==="\\"?"\\\\\\\\":$.replace(Ie,"\\\\$&"),m.push($),p.push("([^"+M+"]+)?"+M+"?")}});const D=new RegExp("^"+p.join("")+"("+(M===""?".":"[^"+M+"]")+"+)?"+(M===""?"":"["+M+"]*")+"$"),j=i.length-1,c=i.map((E,U)=>U===0&&e.reverseFillMask===!0?new RegExp("^"+d+"*"+E):U===j?new RegExp("^"+E+"("+(O===""?".":O)+"+)?"+(e.reverseFillMask===!0?"$":d+"*")):new RegExp("^"+E));s=m,l=E=>{const U=D.exec(e.reverseFillMask===!0?E:E.slice(0,m.length));U!==null&&(E=U.slice(1).join(""));const Q=[],g=c.length;for(let L=0,$=E;L<g;L++){const Y=c[L].exec($);if(Y===null)break;$=$.slice(Y.shift().length),Q.push(...Y)}return Q.length>0?Q.join(""):E},a=m.map(E=>typeof E=="string"?E:I).join(""),u=a.split(I).join(v)}function C(o,v,d){const p=r.value,i=p.selectionEnd,m=p.value.length-i,F=S(o);v===!0&&b();const M=_(F),O=e.fillMask!==!1?B(M):M,D=y.value!==O;p.value!==O&&(p.value=O),D===!0&&(y.value=O),document.activeElement===p&&Z(()=>{if(O===u){const c=e.reverseFillMask===!0?u.length:0;p.setSelectionRange(c,c,"forward");return}if(d==="insertFromPaste"&&e.reverseFillMask!==!0){const c=i-1;w.right(p,c,c);return}if(["deleteContentBackward","deleteContentForward"].indexOf(d)>-1){const c=e.reverseFillMask===!0?i===0?O.length>M.length?1:0:Math.max(0,O.length-(O===u?0:Math.min(M.length,m)+1))+1:i;p.setSelectionRange(c,c,"forward");return}if(e.reverseFillMask===!0)if(D===!0){const c=Math.max(0,O.length-(O===u?0:Math.min(M.length,m+1)));c===1&&i===1?p.setSelectionRange(c,c,"forward"):w.rightReverse(p,c,c)}else{const c=O.length-m;p.setSelectionRange(c,c,"backward")}else if(D===!0){const c=Math.max(0,a.indexOf(I),Math.min(M.length,i)-1);w.right(p,c,c)}else{const c=i-1;w.right(p,c,c)}});const j=e.unmaskedValue===!0?S(O):O;String(e.modelValue)!==j&&n(j,!0)}function V(o,v,d){const p=_(S(o.value));v=Math.max(0,a.indexOf(I),Math.min(p.length,v)),o.setSelectionRange(v,d,"forward")}const w={left(o,v,d,p){const i=a.slice(v-1).indexOf(I)===-1;let m=Math.max(0,v-1);for(;m>=0;m--)if(a[m]===I){v=m,i===!0&&v++;break}if(m<0&&a[v]!==void 0&&a[v]!==I)return w.right(o,0,0);v>=0&&o.setSelectionRange(v,p===!0?d:v,"backward")},right(o,v,d,p){const i=o.value.length;let m=Math.min(i,d+1);for(;m<=i;m++)if(a[m]===I){d=m;break}else a[m-1]===I&&(d=m);if(m>i&&a[d-1]!==void 0&&a[d-1]!==I)return w.left(o,i,i);o.setSelectionRange(p?v:d,d,"forward")},leftReverse(o,v,d,p){const i=k(o.value.length);let m=Math.max(0,v-1);for(;m>=0;m--)if(i[m-1]===I){v=m;break}else if(i[m]===I&&(v=m,m===0))break;if(m<0&&i[v]!==void 0&&i[v]!==I)return w.rightReverse(o,0,0);v>=0&&o.setSelectionRange(v,p===!0?d:v,"backward")},rightReverse(o,v,d,p){const i=o.value.length,m=k(i),F=m.slice(0,d+1).indexOf(I)===-1;let M=Math.min(i,d+1);for(;M<=i;M++)if(m[M-1]===I){d=M,d>0&&F===!0&&d--;break}if(M>i&&m[d-1]!==void 0&&m[d-1]!==I)return w.leftReverse(o,i,i);o.setSelectionRange(p===!0?v:d,d,"forward")}};function A(o){if(t("keydown",o),st(o)===!0)return;const v=r.value,d=v.selectionStart,p=v.selectionEnd;if(o.keyCode===37||o.keyCode===39){const i=w[(o.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];o.preventDefault(),i(v,d,p,o.shiftKey)}else o.keyCode===8&&e.reverseFillMask!==!0&&d===p?w.left(v,d,p,!0):o.keyCode===46&&e.reverseFillMask===!0&&d===p&&w.rightReverse(v,d,p,!0)}function _(o){if(o==null||o==="")return"";if(e.reverseFillMask===!0)return P(o);const v=s;let d=0,p="";for(let i=0;i<v.length;i++){const m=o[d],F=v[i];if(typeof F=="string")p+=F,m===F&&d++;else if(m!==void 0&&F.regex.test(m))p+=F.transform!==void 0?F.transform(m):m,d++;else return p}return p}function P(o){const v=s,d=a.indexOf(I);let p=o.length-1,i="";for(let m=v.length-1;m>=0&&p>-1;m--){const F=v[m];let M=o[p];if(typeof F=="string")i=F+i,M===F&&p--;else if(M!==void 0&&F.regex.test(M))do i=(F.transform!==void 0?F.transform(M):M)+i,p--,M=o[p];while(d===m&&M!==void 0&&F.regex.test(M));else return i}return i}function S(o){return typeof o!="string"||l===void 0?typeof o=="number"?l(""+o):o:l(o)}function B(o){return u.length-o.length<=0?o:e.reverseFillMask===!0&&o.length>0?u.slice(0,-o.length)+o:o+u.slice(o.length)}return{innerValue:y,hasMask:f,moveCursorForPaste:V,updateMaskValue:C,onMaskedKeydown:A}}const cn={name:String};function dn(e){return R(()=>e.name||e.for)}function fn(e,t){function n(){const r=e.modelValue;try{const a="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(r)===r&&("length"in r?Array.from(r):[r]).forEach(u=>{a.items.add(u)}),{files:a.files}}catch{return{files:void 0}}}return t===!0?R(()=>{if(e.type==="file")return n()}):R(n)}const vn=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,mn=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,gn=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,hn=/[a-z0-9_ -]$/i;function pn(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(ct.is.firefox===!0?hn.test(n.data)===!1:vn.test(n.data)===!0||mn.test(n.data)===!0||gn.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}var bn=we({name:"QInput",inheritAttrs:!1,props:{...nn,...un,...cn,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...rn,"paste","change","keydown","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:r}=X(),{$q:a}=r,u={};let s=NaN,l,f,y,x;const h=q(null),k=dn(e),{innerValue:b,hasMask:C,moveCursorForPaste:V,updateMaskValue:w,onMaskedKeydown:A}=sn(e,t,D,h),_=fn(e,!0),P=R(()=>ye(b.value)),S=pn(M),B=on(),o=R(()=>e.type==="textarea"||e.autogrow===!0),v=R(()=>o.value===!0||["text","search","url","tel","password"].includes(e.type)),d=R(()=>{const g={...B.splitAttrs.listeners.value,onInput:M,onPaste:F,onChange:c,onBlur:E,onFocus:Ee};return g.onCompositionstart=g.onCompositionupdate=g.onCompositionend=S,C.value===!0&&(g.onKeydown=A),e.autogrow===!0&&(g.onAnimationend=O),g}),p=R(()=>{const g={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:k.value,...B.splitAttrs.attributes.value,id:B.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return o.value===!1&&(g.type=e.type),e.autogrow===!0&&(g.rows=1),g});N(()=>e.type,()=>{h.value&&(h.value.value=e.modelValue)}),N(()=>e.modelValue,g=>{if(C.value===!0){if(f===!0&&(f=!1,String(g)===s))return;w(g)}else b.value!==g&&(b.value=g,e.type==="number"&&u.hasOwnProperty("value")===!0&&(l===!0?l=!1:delete u.value));e.autogrow===!0&&Z(j)}),N(()=>e.autogrow,g=>{g===!0?Z(j):h.value!==null&&n.rows>0&&(h.value.style.height="auto")}),N(()=>e.dense,()=>{e.autogrow===!0&&Z(j)});function i(){Ue(()=>{const g=document.activeElement;h.value!==null&&h.value!==g&&(g===null||g.id!==B.targetUid.value)&&h.value.focus({preventScroll:!0})})}function m(){h.value!==null&&h.value.select()}function F(g){if(C.value===!0&&e.reverseFillMask!==!0){const L=g.target;V(L,L.selectionStart,L.selectionEnd)}t("paste",g)}function M(g){if(!g||!g.target)return;if(e.type==="file"){t("update:modelValue",g.target.files);return}const L=g.target.value;if(g.target.qComposing===!0){u.value=L;return}if(C.value===!0)w(L,!1,g.inputType);else if(D(L),v.value===!0&&g.target===document.activeElement){const{selectionStart:$,selectionEnd:Y}=g.target;$!==void 0&&Y!==void 0&&Z(()=>{g.target===document.activeElement&&L.indexOf(g.target.value)===0&&g.target.setSelectionRange($,Y)})}e.autogrow===!0&&j()}function O(g){t("animationend",g),j()}function D(g,L){x=()=>{e.type!=="number"&&u.hasOwnProperty("value")===!0&&delete u.value,e.modelValue!==g&&s!==g&&(s=g,L===!0&&(f=!0),t("update:modelValue",g),Z(()=>{s===g&&(s=NaN)})),x=void 0},e.type==="number"&&(l=!0,u.value=g),e.debounce!==void 0?(clearTimeout(y),u.value=g,y=setTimeout(x,e.debounce)):x()}function j(){requestAnimationFrame(()=>{const g=h.value;if(g!==null){const L=g.parentNode.style,{overflow:$}=g.style;a.platform.is.firefox!==!0&&(g.style.overflow="hidden"),g.style.height="1px",L.marginBottom=g.scrollHeight-1+"px",g.style.height=g.scrollHeight+"px",g.style.overflow=$,L.marginBottom=""}})}function c(g){S(g),clearTimeout(y),x!==void 0&&x(),t("change",g.target.value)}function E(g){g!==void 0&&Ee(g),clearTimeout(y),x!==void 0&&x(),l=!1,f=!1,delete u.value,e.type!=="file"&&setTimeout(()=>{h.value!==null&&(h.value.value=b.value!==void 0?b.value:"")})}function U(){return u.hasOwnProperty("value")===!0?u.value:b.value!==void 0?b.value:""}ce(()=>{E()}),ke(()=>{e.autogrow===!0&&j()}),Object.assign(B,{innerValue:b,fieldClass:R(()=>`q-${o.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:R(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length>0),inputRef:h,emitValue:D,hasValue:P,floatingLabel:R(()=>P.value===!0||ye(e.displayValue)),getControl:()=>T(o.value===!0?"textarea":"input",{ref:h,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...p.value,...d.value,...e.type!=="file"?{value:U()}:_.value}),getShadowControl:()=>T("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(o.value===!0?"":" text-no-wrap")},[T("span",{class:"invisible"},U()),T("span",e.shadowText)])});const Q=an(B);return Object.assign(r,{focus:i,select:m,getNativeElement:()=>h.value}),Ne(r,"nativeEl",()=>h.value),Q}});function yn(){return xe(dt)}function $e(e){try{const t=new URL(e);return t.protocol==="http:"||t.protocol==="https:"}catch{return!1}}const wn=["onSubmit"],Tn=ft({__name:"InputURL",props:{placeholder:null,type:null},emits:["click:download","keypress:input"],setup(e,{emit:t}){const n=e,{t:r}=xt(),a=yn(),u=vt(),s=mt(),l=yt(),f=q("");N(()=>u.query.url,h=>{var b;if(!h)return;if(h=h.toString(),!$e(h))return console.warn("url query is not url");const k=(b=Fe(h))==null?void 0:b.name;if(!k){a.notify({position:"bottom-right",message:r("url-nay-khong-duoc-ho-tro")});return}if(k!==n.type){window.inited||(window.inited=!0,s.replace({...u,query:{...u.query,type:k}}));return}window.inited=!0,f.value=h,u.query.autoDownload&&y()},{immediate:!0});async function y(){var k;const h=(k=Fe(f.value))==null?void 0:k.name;if(!h){a.notify({position:"bottom-right",message:r("url-nay-khong-duoc-ho-tro")});return}if(h!==l.value){await s.push({...u,query:{...u.query,type:h,url:f.value,autoDownload:"true"}});return}s.push({...u,query:{...u.query,url:f.value}}),t("click:download",f.value)}async function x(){try{if((await navigator.permissions.query({name:"clipboard-read"})).state==="denied")throw new Error(r("khong-duoc-phep-doc-clipboard"));const k=await navigator.clipboard.read();for(const b of k){if(!b.types.includes("text/plain"))throw new Error(r("clipboard-khong-chua-du-lieu-url"));const C=await b.getType("text/plain");f.value=new TextDecoder().decode(await C.arrayBuffer())}}catch(h){a.notify({position:"bottom-right",message:h.message})}}return(h,k)=>(gt(),ht("form",{onSubmit:pt(y,["prevent"]),class:"flex md:flex-nowrap justify-center"},[J(z(bn),{modelValue:f.value,"onUpdate:modelValue":k[0]||(k[0]=b=>f.value=b),standout:"text-white",class:"input w-full max-w-[607px]",placeholder:e.placeholder,type:"url",rules:[b=>!!b||z(r)("yeu-cau-nhap-url"),b=>z($e)(b)||z(r)("url-khong-hop-le")],"lazy-rules":""},{prepend:ne(()=>[J(z(fe),{icon:"humbleicons:link",width:"20",height:"20"})]),append:ne(()=>[J(z(Ae),{"no-caps":"",unelevated:"",class:"bg-[rgba(25,118,210,0.2)] text-blue",onClick:x},{default:ne(()=>[J(z(fe),{icon:"fluent:clipboard-24-filled"}),Me(" "+Te(z(r)("dan")),1)]),_:1})]),_:1},8,["modelValue","placeholder","rules"]),J(z(Ae),{class:"bg-[#00be63] h-[48px] text-[18px] md:text-[16px] w-full md:w-auto mt-3 md:mt-0 md:ml-3 max-w-[607px]","no-caps":"",type:"submit"},{default:ne(()=>[J(z(fe),{icon:"fluent:arrow-download-24-filled",width:"1.5em",height:"1.5em"}),Me(" "+Te(z(r)("tai-xuong")),1)]),_:1})],40,wn))}});export{An as H,Sn as Q,Tn as _,En as a,yn as b,Mn as u};
